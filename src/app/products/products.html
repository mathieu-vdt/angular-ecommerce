<p-panel header="Products">
  <p-table
    #dt
    [value]="products"
    [paginator]="true"
    [rows]="5"
    [rowsPerPageOptions]="[5, 10, 20]"
    [globalFilterFields]="['id', 'name', 'price', 'category']"
    [tableStyle]="{ 'min-width': '50rem' }"
  >
    <ng-template pTemplate="caption">
      <div class="globalSearch">
        <input
          #globalFilter
          pInputText
          type="text"
          (input)="dt?.filterGlobal(globalFilter.value, 'contains')"
          placeholder="Global Search"
        />
      </div>
    </ng-template>
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id">
          ID
          <p-sortIcon field="id" />
        </th>
        <th>
          Name
          <p-columnFilter type="text" field="name" display="menu" />
        </th>
        <th>
          Price
          <p-columnFilter type="text" field="price" display="menu" />
        </th>
        <th>
          Category
          <p-columnFilter field="category" matchMode="in" display="menu" [showMatchModes]="false" [showOperator]="false" [showAddButton]="false">
            <ng-template #filter let-filter="filterCallback">
              <p-multiselect
                [(ngModel)]="selectedCategories"
                [options]="categories"
                placeholder="Any"
                (onChange)="filter($event.value)"
                [style]="{ 'min-width': '14rem' }"
                [panelStyle]="{ minWidth: '16rem' }"
              >
                <ng-template let-option #item>
                  <div class="flex items-center gap-2">
                    <span>{{ option.label }}</span>
                  </div>
                </ng-template>
              </p-multiselect>
            </ng-template>
          </p-columnFilter>
        </th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-product>
      <tr>
        <td>{{ product.id }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.price }}</td>
        <td>{{ product.category }}</td>
        <td>
          <p-button icon="pi pi-pencil" [rounded]="true" [text]="true" styleClass="p-button-secondary"></p-button>
          <p-button icon="pi pi-trash" [rounded]="true" [text]="true" severity="danger"></p-button>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
      <tr>
        <td colspan="5">No products found.</td>
      </tr>
    </ng-template>
  </p-table>
</p-panel>
<router-outlet></router-outlet>